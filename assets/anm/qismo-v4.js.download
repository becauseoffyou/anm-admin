!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Qismo=t()}(this,(function(){"use strict";function e(){}function t(e){return e()}function i(){return Object.create(null)}function n(e){e.forEach(t)}function o(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(e,t){e.appendChild(t)}function a(e,t,i){e.insertBefore(t,i||null)}function c(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function d(e,t,i){null==i?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}let u;function f(e){u=e}function g(e){(function(){if(!u)throw new Error("Function called outside component initialization");return u})().$$.on_mount.push(e)}const p=[],h=[],y=[],w=[],_=Promise.resolve();let v=!1;function b(e){y.push(e)}function q(){const e=new Set;do{for(;p.length;){const e=p.shift();f(e),x(e.$$)}for(;h.length;)h.pop()();for(let t=0;t<y.length;t+=1){const i=y[t];e.has(i)||(i(),e.add(i))}y.length=0}while(p.length);for(;w.length;)w.pop()();v=!1}function x(e){if(null!==e.fragment){e.update(),n(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(b)}}const S=new Set;let C;function $(){C={r:0,c:[],p:C}}function k(){C.r||n(C.c),C=C.p}function z(e,t){e&&e.i&&(S.delete(e),e.i(t))}function B(e,t,i,n){if(e&&e.o){if(S.has(e))return;S.add(e),C.c.push(()=>{S.delete(e),n&&(i&&e.d(1),n())}),e.o(t)}}function I(e,i,s){const{fragment:r,on_mount:a,on_destroy:c,after_update:l}=e.$$;r&&r.m(i,s),b(()=>{const i=a.map(t).filter(o);c?c.push(...i):n(i),e.$$.on_mount=[]}),l.forEach(b)}function E(e,t){const i=e.$$;null!==i.fragment&&(n(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function M(e,t){-1===e.$$.dirty[0]&&(p.push(e),v||(v=!0,_.then(q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function F(t,o,s,r,a,c,l=[-1]){const m=u;f(t);const d=o.props||{},g=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(m?m.$$.context:[]),callbacks:i(),dirty:l};let p=!1;g.ctx=s?s(t,d,(e,i,...n)=>{const o=n.length?n[0]:i;return g.ctx&&a(g.ctx[e],g.ctx[e]=o)&&(g.bound[e]&&g.bound[e](o),p&&M(t,e)),i}):[],g.update(),p=!0,n(g.before_update),g.fragment=!!r&&r(g.ctx),o.target&&(o.hydrate?g.fragment&&g.fragment.l(function(e){return Array.from(e.childNodes)}(o.target)):g.fragment&&g.fragment.c(),o.intro&&z(t.$$.fragment),I(t,o.target,o.anchor),q()),f(m)}class A{$destroy(){E(this,1),this.$destroy=e}$on(e,t){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}$set(){}}function O(e){let t,i;return{c(){t=l("img"),t.src!==(i=e[1])&&d(t,"src",i),d(t,"alt","chat with us icon"),d(t,"height","20")},m(e,i){a(e,t,i)},p(e,n){2&n&&t.src!==(i=e[1])&&d(t,"src",i)},d(e){e&&c(t)}}}function T(e){let t,i,n=(e[0]?e[0]:"Chat With Us")+"";return{c(){t=l("div"),i=m(n),d(t,"class","svelte-1xkyjie")},m(e,n){a(e,t,n),r(t,i)},p(e,t){1&t&&n!==(n=(e[0]?e[0]:"Chat With Us")+"")&&function(e,t){t=""+t,e.data!==t&&(e.data=t)}(i,n)},d(e){e&&c(t)}}}function H(t){let i,n,o,s=(t[3]||t[2])&&O(t),u=t[4]&&!t[2]&&T(t);return{c(){i=l("div"),s&&s.c(),n=m(" "),u&&u.c(),d(i,"class","qcw-trigger-btn svelte-1xkyjie")},m(e,c){var l,m,d,f;a(e,i,c),s&&s.m(i,null),r(i,n),u&&u.m(i,null),l=i,m="click",d=t[5],l.addEventListener(m,d,f),o=()=>l.removeEventListener(m,d,f)},p(e,[t]){e[3]||e[2]?s?s.p(e,t):(s=O(e),s.c(),s.m(i,n)):s&&(s.d(1),s=null),e[4]&&!e[2]?u?u.p(e,t):(u=T(e),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i:e,o:e,d(e){e&&c(i),s&&s.d(),u&&u.d(),o()}}}function D(e,t,i){let{label:n}=t,{icon:o}=t,{isMobile:s}=t,{buttonHasIcon:r}=t,{buttonHasText:a}=t;return e.$set=e=>{"label"in e&&i(0,n=e.label),"icon"in e&&i(1,o=e.icon),"isMobile"in e&&i(2,s=e.isMobile),"buttonHasIcon"in e&&i(3,r=e.buttonHasIcon),"buttonHasText"in e&&i(4,a=e.buttonHasText)},[n,o,s,r,a,function(t){!function(e,t){const i=e.$$.callbacks[t.type];i&&i.slice().forEach(e=>e(t))}(e,t)}]}class N extends A{constructor(e){super(),F(this,e,D,H,s,{label:0,icon:1,isMobile:2,buttonHasIcon:3,buttonHasText:4})}}var U="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function R(e,t){return e(t={exports:{}},t.exports),t.exports}var j,L=(j=Object.freeze({__proto__:null,default:{}}))&&j.default||j,W=R((function(e,t){var i;e.exports=(i=i||function(e,t){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==U&&U.crypto&&(i=U.crypto),!i)try{i=L}catch(e){}var n=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),s={},r=s.lib={},a=r.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=r.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||m).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var s=0;s<o;s++){var r=i[s>>>2]>>>24-s%4*8&255;t[n+s>>>2]|=r<<24-(n+s)%4*8}else for(var a=0;a<o;a+=4)t[n+a>>>2]=i[a>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(n());return new c.init(t,e)}}),l=s.enc={},m=l.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],o=0;o<i;o++){var s=t[o>>>2]>>>24-o%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(i,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],o=0;o<i;o++){var s=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(i,t)}},u=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i,n=this._data,o=n.words,s=n.sigBytes,r=this.blockSize,a=s/(4*r),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*r,m=e.min(4*l,s);if(l){for(var d=0;d<l;d+=r)this._doProcessBlock(o,d);i=o.splice(0,l),n.sigBytes-=m}return new c.init(i,m)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(r.Hasher=f.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new g.HMAC.init(e,i).finalize(t)}}}),s.algo={});return s}(Math),i)})),P=(R((function(e,t){var i,n,o;e.exports=(n=(i=o=W).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var o=[],s=0;s<i;s+=3)for(var r=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;a<4&&s+.75*a<i;a++)o.push(n.charAt(r>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,i=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var s=0;s<i.length;s++)o[i.charCodeAt(s)]=s}var r=i.charAt(64);if(r){var a=e.indexOf(r);-1!==a&&(t=a)}return function(e,t,i){for(var o=[],s=0,r=0;r<t;r++)if(r%4){var a=i[e.charCodeAt(r-1)]<<r%4*2,c=i[e.charCodeAt(r)]>>>6-r%4*2,l=a|c;o[s>>>2]|=l<<24-s%4*8,s++}return n.create(o,s)}(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)})),R((function(e,t){var i;e.exports=(i=W,function(e){var t=i,n=t.lib,o=n.WordArray,s=n.Hasher,r=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=r.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var s=this._hash.words,r=e[t+0],c=e[t+1],f=e[t+2],g=e[t+3],p=e[t+4],h=e[t+5],y=e[t+6],w=e[t+7],_=e[t+8],v=e[t+9],b=e[t+10],q=e[t+11],x=e[t+12],S=e[t+13],C=e[t+14],$=e[t+15],k=s[0],z=s[1],B=s[2],I=s[3];k=l(k,z,B,I,r,7,a[0]),I=l(I,k,z,B,c,12,a[1]),B=l(B,I,k,z,f,17,a[2]),z=l(z,B,I,k,g,22,a[3]),k=l(k,z,B,I,p,7,a[4]),I=l(I,k,z,B,h,12,a[5]),B=l(B,I,k,z,y,17,a[6]),z=l(z,B,I,k,w,22,a[7]),k=l(k,z,B,I,_,7,a[8]),I=l(I,k,z,B,v,12,a[9]),B=l(B,I,k,z,b,17,a[10]),z=l(z,B,I,k,q,22,a[11]),k=l(k,z,B,I,x,7,a[12]),I=l(I,k,z,B,S,12,a[13]),B=l(B,I,k,z,C,17,a[14]),k=m(k,z=l(z,B,I,k,$,22,a[15]),B,I,c,5,a[16]),I=m(I,k,z,B,y,9,a[17]),B=m(B,I,k,z,q,14,a[18]),z=m(z,B,I,k,r,20,a[19]),k=m(k,z,B,I,h,5,a[20]),I=m(I,k,z,B,b,9,a[21]),B=m(B,I,k,z,$,14,a[22]),z=m(z,B,I,k,p,20,a[23]),k=m(k,z,B,I,v,5,a[24]),I=m(I,k,z,B,C,9,a[25]),B=m(B,I,k,z,g,14,a[26]),z=m(z,B,I,k,_,20,a[27]),k=m(k,z,B,I,S,5,a[28]),I=m(I,k,z,B,f,9,a[29]),B=m(B,I,k,z,w,14,a[30]),k=d(k,z=m(z,B,I,k,x,20,a[31]),B,I,h,4,a[32]),I=d(I,k,z,B,_,11,a[33]),B=d(B,I,k,z,q,16,a[34]),z=d(z,B,I,k,C,23,a[35]),k=d(k,z,B,I,c,4,a[36]),I=d(I,k,z,B,p,11,a[37]),B=d(B,I,k,z,w,16,a[38]),z=d(z,B,I,k,b,23,a[39]),k=d(k,z,B,I,S,4,a[40]),I=d(I,k,z,B,r,11,a[41]),B=d(B,I,k,z,g,16,a[42]),z=d(z,B,I,k,y,23,a[43]),k=d(k,z,B,I,v,4,a[44]),I=d(I,k,z,B,x,11,a[45]),B=d(B,I,k,z,$,16,a[46]),k=u(k,z=d(z,B,I,k,f,23,a[47]),B,I,r,6,a[48]),I=u(I,k,z,B,w,10,a[49]),B=u(B,I,k,z,C,15,a[50]),z=u(z,B,I,k,h,21,a[51]),k=u(k,z,B,I,x,6,a[52]),I=u(I,k,z,B,g,10,a[53]),B=u(B,I,k,z,b,15,a[54]),z=u(z,B,I,k,c,21,a[55]),k=u(k,z,B,I,_,6,a[56]),I=u(I,k,z,B,$,10,a[57]),B=u(B,I,k,z,y,15,a[58]),z=u(z,B,I,k,S,21,a[59]),k=u(k,z,B,I,p,6,a[60]),I=u(I,k,z,B,q,10,a[61]),B=u(B,I,k,z,f,15,a[62]),z=u(z,B,I,k,v,21,a[63]),s[0]=s[0]+k|0,s[1]=s[1]+z|0,s[2]=s[2]+B|0,s[3]=s[3]+I|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;i[o>>>5]|=128<<24-o%32;var s=e.floor(n/4294967296),r=n;i[15+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),i[14+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(i.length+1),this._process();for(var a=this._hash,c=a.words,l=0;l<4;l++){var m=c[l];c[l]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}return a},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,i,n,o,s,r){var a=e+(t&i|~t&n)+o+r;return(a<<s|a>>>32-s)+t}function m(e,t,i,n,o,s,r){var a=e+(t&n|i&~n)+o+r;return(a<<s|a>>>32-s)+t}function d(e,t,i,n,o,s,r){var a=e+(t^i^n)+o+r;return(a<<s|a>>>32-s)+t}function u(e,t,i,n,o,s,r){var a=e+(i^(t|~n))+o+r;return(a<<s|a>>>32-s)+t}t.MD5=s._createHelper(c),t.HmacMD5=s._createHmacHelper(c)}(Math),i.MD5)})),R((function(e,t){var i,n,o,s,r,a,c,l;e.exports=(n=(i=l=W).lib,o=n.WordArray,s=n.Hasher,r=i.algo,a=[],c=r.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],o=i[1],s=i[2],r=i[3],c=i[4],l=0;l<80;l++){if(l<16)a[l]=0|e[t+l];else{var m=a[l-3]^a[l-8]^a[l-14]^a[l-16];a[l]=m<<1|m>>>31}var d=(n<<5|n>>>27)+c+a[l];d+=l<20?1518500249+(o&s|~o&r):l<40?1859775393+(o^s^r):l<60?(o&s|o&r|s&r)-1894007588:(o^s^r)-899497514,c=r,r=s,s=o<<30|o>>>2,o=n,n=d}i[0]=i[0]+n|0,i[1]=i[1]+o|0,i[2]=i[2]+s|0,i[3]=i[3]+r|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),i.SHA1=s._createHelper(c),i.HmacSHA1=s._createHmacHelper(c),l.SHA1)})),R((function(e,t){var i,n,o;e.exports=(n=(i=W).lib.Base,o=i.enc.Utf8,void(i.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var i=e.blockSize,n=4*i;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var s=this._oKey=t.clone(),r=this._iKey=t.clone(),a=s.words,c=r.words,l=0;l<i;l++)a[l]^=1549556828,c[l]^=909522486;s.sigBytes=r.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})))})),R((function(e,t){var i,n,o,s,r,a,c,l;e.exports=(n=(i=l=W).lib,o=n.Base,s=n.WordArray,r=i.algo,a=r.MD5,c=r.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i,n=this.cfg,o=n.hasher.create(),r=s.create(),a=r.words,c=n.keySize,l=n.iterations;a.length<c;){i&&o.update(i),i=o.update(e).finalize(t),o.reset();for(var m=1;m<l;m++)i=o.finalize(i),o.reset();r.concat(i)}return r.sigBytes=4*c,r}}),i.EvpKDF=function(e,t,i){return c.create(i).compute(e,t)},l.EvpKDF)})),R((function(e,t){var i,n,o,s,r,a,c,l,m,d,u,f,g,p,h,y,w,_,v;e.exports=void((i=W).lib.Cipher||(n=i,o=n.lib,s=o.Base,r=o.WordArray,a=o.BufferedBlockAlgorithm,c=n.enc,c.Utf8,l=c.Base64,m=n.algo.EvpKDF,d=o.Cipher=a.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:w}return function(t){return{encrypt:function(i,n,o){return e(n).encrypt(t,i,n,o)},decrypt:function(i,n,o){return e(n).decrypt(t,i,n,o)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),u=n.mode={},f=o.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),g=u.CBC=function(){var e=f.extend();function t(e,t,i){var n,o=this._iv;o?(n=o,this._iv=void 0):n=this._prevBlock;for(var s=0;s<i;s++)e[t+s]^=n[s]}return e.Encryptor=e.extend({processBlock:function(e,i){var n=this._cipher,o=n.blockSize;t.call(this,e,i,o),n.encryptBlock(e,i),this._prevBlock=e.slice(i,i+o)}}),e.Decryptor=e.extend({processBlock:function(e,i){var n=this._cipher,o=n.blockSize,s=e.slice(i,i+o);n.decryptBlock(e,i),t.call(this,e,i,o),this._prevBlock=s}}),e}(),p=(n.pad={}).Pkcs7={pad:function(e,t){for(var i=4*t,n=i-e.sigBytes%i,o=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(o);var c=r.create(s,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:g,padding:p}),reset:function(){var e;d.reset.call(this);var t=this.cfg,i=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,i&&i.words):(this._mode=e.call(n,this,i&&i.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),h=o.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),y=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;return(i?r.create([1398893684,1701076831]).concat(i).concat(t):t).toString(l)},parse:function(e){var t,i=l.parse(e),n=i.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=r.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),h.create({ciphertext:i,salt:t})}},w=o.SerializableCipher=s.extend({cfg:s.extend({format:y}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var o=e.createEncryptor(i,n),s=o.finalize(t),r=o.cfg;return h.create({ciphertext:s,key:i,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(n.kdf={}).OpenSSL={execute:function(e,t,i,n){n||(n=r.random(8));var o=m.create({keySize:t+i}).compute(e,n),s=r.create(o.words.slice(t),4*i);return o.sigBytes=4*t,h.create({key:o,iv:s,salt:n})}},v=o.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:_}),encrypt:function(e,t,i,n){var o=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize);n.iv=o.iv;var s=w.encrypt.call(this,e,t,o.key,n);return s.mixIn(o),s},decrypt:function(e,t,i,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=n.kdf.execute(i,e.keySize,e.ivSize,t.salt);return n.iv=o.iv,w.decrypt.call(this,e,t,o.key,n)}})))})),R((function(e,t){var i;e.exports=(i=W,function(){var e=i,t=e.lib.BlockCipher,n=e.algo,o=[],s=[],r=[],a=[],c=[],l=[],m=[],d=[],u=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,n=0;for(t=0;t<256;t++){var g=n^n<<1^n<<2^n<<3^n<<4;g=g>>>8^255&g^99,o[i]=g,s[g]=i;var p=e[i],h=e[p],y=e[h],w=257*e[g]^16843008*g;r[i]=w<<24|w>>>8,a[i]=w<<16|w>>>16,c[i]=w<<8|w>>>24,l[i]=w,w=16843009*y^65537*h^257*p^16843008*i,m[g]=w<<24|w>>>8,d[g]=w<<16|w>>>16,u[g]=w<<8|w>>>24,f[g]=w,i?(i=p^e[e[e[y^p]]],n^=e[e[n]]):i=n=1}}();var g=[0,1,2,4,8,16,32,64,128,27,54],p=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,n=4*((this._nRounds=i+6)+1),s=this._keySchedule=[],r=0;r<n;r++)r<i?s[r]=t[r]:(l=s[r-1],r%i?i>6&&r%i==4&&(l=o[l>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l]):(l=o[(l=l<<8|l>>>24)>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l],l^=g[r/i|0]<<24),s[r]=s[r-i]^l);for(var a=this._invKeySchedule=[],c=0;c<n;c++){if(r=n-c,c%4)var l=s[r];else l=s[r-4];a[c]=c<4||r<=4?l:m[o[l>>>24]]^d[o[l>>>16&255]]^u[o[l>>>8&255]]^f[o[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,a,c,l,o)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,m,d,u,f,s),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,o,s,r,a){for(var c=this._nRounds,l=e[t]^i[0],m=e[t+1]^i[1],d=e[t+2]^i[2],u=e[t+3]^i[3],f=4,g=1;g<c;g++){var p=n[l>>>24]^o[m>>>16&255]^s[d>>>8&255]^r[255&u]^i[f++],h=n[m>>>24]^o[d>>>16&255]^s[u>>>8&255]^r[255&l]^i[f++],y=n[d>>>24]^o[u>>>16&255]^s[l>>>8&255]^r[255&m]^i[f++],w=n[u>>>24]^o[l>>>16&255]^s[m>>>8&255]^r[255&d]^i[f++];l=p,m=h,d=y,u=w}p=(a[l>>>24]<<24|a[m>>>16&255]<<16|a[d>>>8&255]<<8|a[255&u])^i[f++],h=(a[m>>>24]<<24|a[d>>>16&255]<<16|a[u>>>8&255]<<8|a[255&l])^i[f++],y=(a[d>>>24]<<24|a[u>>>16&255]<<16|a[l>>>8&255]<<8|a[255&m])^i[f++],w=(a[u>>>24]<<24|a[l>>>16&255]<<16|a[m>>>8&255]<<8|a[255&d])^i[f++],e[t]=p,e[t+1]=h,e[t+2]=y,e[t+3]=w},keySize:8});e.AES=t._createHelper(p)}(),i.AES)})));const J=e=>document.querySelector(e),G=(()=>{try{return window.parent&&window.parent.qiscusApp?window.parent.qiscusApp:null}catch{return null}})(),K=(e,t)=>{if(e){var i=15;e.style.opacity=0,e.style.transform="translateY(15px)";var n=+new Date,o=function(){e.style.opacity=+e.style.opacity+(new Date-n)/400,(i-=1)<15&&(e.style.transform="translateY("+i+"px)"),(i<=0||e.style.opacity>=1)&&(e.style.transform="none",e.style.opacity=1),n=+new Date,+e.style.opacity<1?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):(e.style.display="block",t&&t())};o()}},V=(e,t)=>{if(e){var i=0;e.style.opacity=1,e.style.transform="translateY(0px)";var n=+new Date,o=function(){e.style.opacity=+e.style.opacity-(new Date-n)/400,i+=1,e.style.transform="translateY("+i+"px)",n=+new Date,+e.style.opacity>0&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16)),e.style.opacity<=0&&(e.style.display="none",t&&t())};o()}},X=e=>{var t=new XMLHttpRequest,i="";return new Promise((function(n,o){t.onload=function(){this.status>=200&&this.status<400?n(e.successFn(JSON.parse(this.response))):o(e.failFn(JSON.parse(this.response)))},t.onerror=function(){o(e.failFn())},t.open(e.type||"GET",e.url,!0),e.appVersion&&t.setRequestHeader("App-Version",e.appVersion),"POST"==e.type&&(t.setRequestHeader("Content-type","application/json; charset=utf-8"),e.data&&(i=JSON.stringify(e.data))),t.send(i||null)}))},Y=(e,t)=>({customerServiceAvatar:"https://d1edrlpyc25xu0.cloudfront.net/kiwari-prod/image/upload/Ri-pxHv6e1/default_avatar.png",customerServiceName:"Customer Service",buttonHasText:!0,buttonText:"Talk to Us",buttonHasIcon:"true",buttonIcon:"https://s3-ap-southeast-1.amazonaws.com/qiscus-sdk/public/qismo/img/icon-qiscus-widget-default.svg",formGreet:"Welcome to Live Chat",openAtStart:!1,welcomeText:"Hi there! Do you want to have a chat widget like this? It's so easy and customisable! So, come on have a chat with us!  ",welcomeMessageStatus:!0,welcomeTimeout:3,qismoBaseUrl:t&&t.baseUrl?t.baseUrl:e?"https://qismo-stag.qiscus.com":"https://qismo.qiscus.com",qismoIframeUrl:t&&t.qismoIframeUrl?t.qismoIframeUrl:"https://multichannel.qiscus.com",callbackFunction:{afterFormValidation:!1},customerIdentifierInputType:"email",customerIdentifier:"email",isChannelWidgetEnabled:!1,selectedWidgetPage:"welcome"});function Q(e,t){return e=e.replace("#",""),"rgba("+parseInt(e.substring(0,2),16)+","+parseInt(e.substring(2,4),16)+","+parseInt(e.substring(4,6),16)+","+t/100+")"}const Z=(e,t,i)=>{var n=document.createElement(e);if(t&&n.appendChild(document.createTextNode(t)),i){var o="";Object.keys(i).forEach((function(e){(o=document.createAttribute(e)).value=i[e],n.setAttributeNode(o)}))}return n},ee=e=>{let t="";return Object.keys(e).forEach(i=>{let n="&";t||(n="?"),t+=`${n}${i}=${e[i]}`}),t};function te(e){let t,i,n=(!e[2]&&!e[5]&&!e[3]&&e[4]||!e[4])&&ie(e);return{c(){n&&n.c(),t=m("")},m(e,o){n&&n.m(e,o),a(e,t,o),i=!0},p(e,i){(e[2]||e[5]||e[3]||!e[4])&&e[4]?n&&($(),B(n,1,1,()=>{n=null}),k()):n?(n.p(e,i),z(n,1)):(n=ie(e),n.c(),z(n,1),n.m(t.parentNode,t))},i(e){i||(z(n),i=!0)},o(e){B(n),i=!1},d(e){n&&n.d(e),e&&c(t)}}}function ie(e){let t;const i=new N({props:{isMobile:e[4],label:qismoConfig.buttonText,buttonHasIcon:qismoConfig.buttonHasIcon,buttonHasText:qismoConfig.buttonHasText,icon:qismoConfig.buttonIcon}});return i.$on("click",e[0]),{c(){var e;(e=i.$$.fragment)&&e.c()},m(e,n){I(i,e,n),t=!0},p(e,t){const n={};16&t[0]&&(n.isMobile=e[4]),i.$set(n)},i(e){t||(z(i.$$.fragment,e),t=!0)},o(e){B(i.$$.fragment,e),t=!1},d(e){E(i,e)}}}function ne(e){let t,i,n=e[1]&&te(e);return{c(){t=l("main"),n&&n.c(),d(t,"class","svelte-gklle4")},m(e,o){a(e,t,o),n&&n.m(t,null),i=!0},p(e,i){e[1]?n?(n.p(e,i),z(n,1)):(n=te(e),n.c(),z(n,1),n.m(t,null)):n&&($(),B(n,1,1,()=>{n=null}),k())},i(e){i||(z(n),i=!0)},o(e){B(n),i=!1},d(e){e&&c(t),n&&n.d()}}}function oe(e,t,i){let n,o,s,r,a,c,l=!1,m=!1,d={},u=!1,f=!1,p=!1,h="",y=!1,w=!1,_=!1,v=null,{staging:b=!1}=t,{widgetDesktopSizes:q=[360,510]}=t,{loginFormSizes:x=[360,510]}=t,{channelFormSizes:S=[370,515]}=t,{welcomeMessageSizes:C=[380,350]}=t,{grabberSizes:$=[300,150]}=t;const k=()=>{d=Y(b,L),X({type:"GET",url:`${d.qismoBaseUrl}/api/v2/app/config/public-widget/${j}/${L.channel_id}`,appVersion:`${L.appVersion}`,successFn(e){var t=e.data.widget;((e,t)=>{var i=Y();if(i.qismoBaseUrl=t&&t.baseUrl?t.baseUrl:"//multichannel.qiscus.com",i.qismoIframeUrl=t&&t.qismoIframeUrl?t.qismoIframeUrl:"//multichannel.qiscus.com",window.qismoConfig||(window.qismoConfig=Object.assign({},i)),t&&(window.qismoConfig=Object.assign({},qismoConfig,t)),!e)return qismoConfig=Object.assign({},i,qismoConfig),qismoConfig;e.variables&&(Object.keys(e.variables).forEach((function(t){qismoConfig[t]=e.variables[t]})),G&&G.overrideObjChannel&&Object.keys(G.overrideObjChannel).forEach((function(e){qismoConfig[e]=G.overrideObjChannel[e]})))})(t,L),a=(e=>{if(!e)return J("head").appendChild(Z("style",".qcw-header { background: #74c162 !important; }")),!1;var t=Object.keys(e).reduce((function(t,i){return t+i+JSON.stringify(e[i]).replace(/['"]+/g,"").replace(/[,]+/g,";")}),""),i="#74c162",n="#FFFFFF";return e[".qcw-header,.qismo-login-form__header"]&&(n="#444444","#ffffff"==(i=e[".qcw-header,.qismo-login-form__header"]["background-color"].replace("!important","").trim()).toLowerCase()?(t+=".qismo-contact-icon,.qismo-email-icon{fill:"+i+";}",t+=".qismo-phone-icon{stroke:"+i+";}",t+=".qismo-input .icon{background:"+Q("#444444",20)+"!important;}",t+=".qcw-copyright,.qismo-input input {color:#444 !important;}",t+=".qismo-login-form__header { color: "+n+";}",t+=".qcw-cs-box-form { background: #444; }",t+=".qcw-cs-back { color: "+n+";}"):(t+=".qismo-contact-icon,.qismo-email-icon{fill:"+i+";}",t+=".qismo-phone-icon{stroke:"+i+";}",t+=".qismo-input .icon{background:"+Q(i,20)+"!important;}",t+=".qcw-copyright,.qismo-copyright,.qismo-input input {color:"+i+"!important;}")),!document.querySelector("#qismo-custom-css")&&J("head").appendChild(Z("style",t,{id:"qismo-custom-css"})),t})(t?t.styles:null),B(),z();var n=JSON.parse(localStorage.getItem("qismo-widget"));!n||n.display_name&&n.unique_id||localStorage.removeItem("qismo-widget"),qismoConfig.isChannelWidgetEnabled?H():localStorage.getItem("qismo-widget")?M():T(),i(1,l=!0),R()},failFn(e){}})},z=()=>{if(1!=qismoConfig.attentionGrabberStatus)return!1;s=document.createElement("iframe");let e=1e3*qismoConfig.attentionGrabberTimeout||0,t=ee({grabberImage:qismoConfig.grabberImage,grabberTextStatus:qismoConfig.grabberTextStatus,attention_grabber_image:qismoConfig.attentionGrabberImage,attention_grabber_text:qismoConfig.attentionGrabberText});a&&(t+=`&customcss=${a.replace(/#/g,"@")}`);let i=`${qismoConfig.qismoIframeUrl}/iframes/${j}/attention-grabber${t}`;s.setAttribute("src",i),s.setAttribute("id","qcw-welcome-iframe"),s.setAttribute("style","display: none"),N(s,$[0]+"px",$[1]+"px","0","50px"),document.getElementById("qcw-welcome-iframe")||document.body.appendChild(s),setTimeout(()=>K(s),e)},B=()=>{const e=localStorage.getItem("qismo-widget");if(1!=qismoConfig.welcomeMessageStatus||1==qismoConfig.attentionGrabberStatus||e)return!1;var t=qismoConfig.welcomeTimeout>=0?qismoConfig.welcomeTimeout:d.welcomeTimeout;s=document.createElement("iframe");let i=ee({avatar_url:qismoConfig.customerServiceAvatar,cs_name:qismoConfig.customerServiceName,welcome_text:qismoConfig.welcomeText}),n=`${qismoConfig.qismoIframeUrl}/iframes/${j}/welcome-message${i}`;s.setAttribute("src",n),s.setAttribute("id","qcw-welcome-iframe"),s.setAttribute("style","display: none"),N(s,C[0]+"px",C[1]+"px","0","75px"),document.getElementById("qcw-welcome-iframe")||document.body.appendChild(s),setTimeout((function(){u||y||f||(s.style.display="block",K(s),s&&(a&&O("qcw-welcome-iframe",{event_name:"custom-css",css:a}),O("qcw-welcome-iframe",{event_name:"change-height"})))}),1e3*parseInt(t))},I=()=>{if(m)return!1;i(2,u=!u);const e=document.getElementById("qcw-login-form-iframe");if(!e)return!1;u?(K(e,()=>{setTimeout(()=>{a&&O("qcw-login-form-iframe",{event_name:"custom-css",css:a}),L&&L.extra_fields&&O("qcw-login-form-iframe",{event_name:"extra-fields",extra_fields:JSON.stringify(L.extra_fields)})},0)}),A()):V(e)},E=()=>{if(m&&f)return!1;i(5,y=!y);const e=document.getElementById("qcw-channel-form-iframe"),t=qismoConfig.channel_widget;if(!e)return!1;y?(K(e,()=>{setTimeout(()=>{a&&O("qcw-channel-form-iframe",{event_name:"custom-css",css:a}),t&&O("qcw-channel-form-iframe",{event_name:"widget",widget:JSON.stringify(t)})},0)}),A()):V(e)},M=e=>{let t=JSON.parse(localStorage.getItem("qismo-widget"));const s=!t;t?n={display_name:t.display_name,unique_id:t.unique_id,extra_fields:t.extra_fields}:(n=e,L&&L.extra_fields&&(n.extra_fields=e.extra_fields),localStorage.setItem("qismo-widget",JSON.stringify(n))),G&&(G.selectedNav="chat"),D(s),m=!0,i(2,u=!1),i(5,y=!1),s&&V(o)},F=()=>{const e=document.getElementById("qcw-iframe");if(!e)return!1;f?(window.postMessage({event_name:"maximize-widget"}),K(e,()=>{if(!qismoConfig.widgetCustomCSS)return!1;setTimeout(()=>{O("qcw-iframe",{event_name:"custom-css",css:qismoConfig.widgetCustomCSS})},1e3)}),A()):(window.postMessage({event_name:"minimize-widget"}),V(e))},A=()=>{const e=document.getElementById("qcw-welcome-iframe");e&&V(e)};var O=function(e,t){document.getElementById(e).contentWindow.postMessage(t,"*")};const T=()=>{o=document.createElement("iframe");const e=qismoConfig.customerIdentifierInputType?qismoConfig.customerIdentifierInputType:qismoConfig.customerIdentifier||"email";let t=qismoConfig.loginFormCustomCSS||"",i=ee({formGreet:qismoConfig.formGreet,formSubtitle:qismoConfig.formSubtitle,buttonLabel:qismoConfig.loginFormButtonLabel,customerIdentifier:e,extra_fields:L&&L.extra_fields?JSON.stringify(L.extra_fields):"",is_channel_widget_enable:qismoConfig.isChannelWidgetEnabled});L&&L.initialCountryCode&&(i+=`&initialCountryCode=${L.initialCountryCode}`),L&&L.whitelabel&&(h=".qismo-copyright{display:none!important;}"),a?(a=a+t+h,i+=`&customcss=${a.replace(/#/g,"@")}`):i+=`&customcss=${t+h}`;let n=`${qismoConfig.qismoIframeUrl}/iframes/v4/${j}/login-form${i}`;qismoConfig.loginFormUrl&&(n=`${qismoConfig.loginFormUrl}?customerIdentifier=${e}`),o.setAttribute("src",n),o.setAttribute("id","qcw-login-form-iframe"),o.setAttribute("style","display: none"),document.body.clientWidth<v?U(o):N(o,x[0]+"px",x[1]+"px"),document.getElementById("qcw-login-form-iframe")||document.body.appendChild(o),w?setTimeout(()=>{K(o,()=>{a&&O("qcw-login-form-iframe",{event_name:"custom-css",css:a}),L&&L.extra_fields&&O("qcw-login-form-iframe",{event_name:"extra-fields",extra_fields:JSON.stringify(L.extra_fields)})})},1e3):L&&L.extra_fields&&O("qcw-login-form-iframe",{event_name:"extra-fields",extra_fields:JSON.stringify(L.extra_fields)})},H=()=>{c=document.createElement("iframe");const e=qismoConfig.channel_widget;let t=ee({titleForm:e?e.title:"Welcome",subtitleForm:e?e.subtitle:"Send us via favourite messaging apps"});L&&L.whitelabel&&(h=".qismo-copyright{display:none!important;}");let n=`${qismoConfig.qismoIframeUrl}/iframes/v4/${j}/widget-channel${t}`;c.setAttribute("src",n),c.setAttribute("id","qcw-channel-form-iframe"),c.setAttribute("style","display: none"),document.body.clientWidth<v?U(c):N(c,S[0]+"px",S[1]+"px"),document.getElementById("qcw-channel-form-iframe")||document.body.appendChild(c),_||qismoConfig.openAtStart?(qismoConfig.openAtStart&&i(5,y=!0),setTimeout(()=>{K(c,()=>{a&&O("qcw-channel-form-iframe",{event_name:"custom-css",css:a}),e&&O("qcw-channel-form-iframe",{event_name:"widget",widget:JSON.stringify(e)})})},1e3)):(a&&O("qcw-channel-form-iframe",{event_name:"custom-css",css:a}),e&&O("qcw-channel-form-iframe",{event_name:"widget",widget:JSON.stringify(e)}))},D=e=>{r=document.createElement("iframe");let t=ee({display_name:encodeURIComponent(P.encrypt(n.display_name.toString(),j).toString()),channel_id:encodeURIComponent(P.encrypt(L.channel_id.toString(),j).toString()),unique_id:encodeURIComponent(P.encrypt(n.unique_id.toString(),j).toString()),app_id:j,staging:b});n.extra_fields&&(t+=`&extra_fields=${encodeURIComponent(n.extra_fields)}`),L&&L.extras&&(t+=`&extras=${L.extras}`),L&&L.room_badge&&(t+=`&room_badge=${L.room_badge}`),L&&L.merge_properties&&(t+=`&merge_properties=${L.merge_properties}`),qismoConfig.isChannelWidgetEnabled&&(t+=`&is_channel_widget_enable=${qismoConfig.isChannelWidgetEnabled}`);let o=`${qismoConfig.qismoIframeUrl}/iframes/v4/${j}/multichannel-widget/${L.channel_id}${t}`;r.setAttribute("src",o),r.setAttribute("id","qcw-iframe"),r.setAttribute("style","display: none"),document.body.clientWidth<v?U(r):N(r,q[0]+"px",q[1]+"px"),L&&L.whitelabel&&(h=".qcw-copyright{display:none!important;}"),document.getElementById("qcw-iframe")||document.body.appendChild(r),qismoConfig.openAtStart||e?(e&&i(3,f=!1),setTimeout(()=>{K(r,()=>{var e=qismoConfig.widgetCustomCSS?qismoConfig.widgetCustomCSS+h:h;O("qcw-iframe",{event_name:"custom-css",css:e})})},1e3)):setTimeout(()=>{var e=qismoConfig.widgetCustomCSS?qismoConfig.widgetCustomCSS+h:h;O("qcw-iframe",{event_name:"custom-css",css:e})},1e3)},N=(e,t,i,n,o)=>{if(!e)return!1;e.style.width=t,e.style.height=i,e.style.bottom=o||"77px",e.style.right=n||"42px"},U=e=>{N(e,"100%","100%"),e.style.bottom=0,e.style.right=0},R=()=>{v=qismoConfig.mobileBreakPoint?qismoConfig.mobileBreakPoint:400,document.body.clientWidth<v?(i(4,p=!0),r&&U(r),o&&U(o),c&&U(c)):(i(4,p=!1),r&&N(r,q[0]+"px",q[1]+"px"),o&&N(o,x[0]+"px",x[1]+"px"),c&&N(c,S[0]+"px",S[1]+"px"))};g(async()=>(k(),window.addEventListener("resize",(function(e){R()})),()=>{r&&"object"==typeof r&&(document.body.removeChild(r),r=null),o&&"object"==typeof o&&(document.body.removeChild(o),o=null),c&&"object"==typeof c&&(document.body.removeChild(c),c=null),s&&"object"==typeof s&&(document.body.removeChild(s),s=null)}));let{appId:j}=t,{options:L}=t;return e.$set=e=>{"staging"in e&&i(6,b=e.staging),"widgetDesktopSizes"in e&&i(7,q=e.widgetDesktopSizes),"loginFormSizes"in e&&i(8,x=e.loginFormSizes),"channelFormSizes"in e&&i(9,S=e.channelFormSizes),"welcomeMessageSizes"in e&&i(10,C=e.welcomeMessageSizes),"grabberSizes"in e&&i(11,$=e.grabberSizes),"appId"in e&&i(19,j=e.appId),"options"in e&&i(20,L=e.options)},[()=>{qismoConfig.isChannelWidgetEnabled&&!w&&c?E():m||localStorage.getItem("qismo-widget")?(i(3,f=!f),F()):I(),(f||u||y)&&A()},l,u,f,p,y,b,q,x,S,C,$,I,E,()=>{if(i(5,y=!1),w=!0,_=!1,localStorage.getItem("qismo-widget"))if(i(3,f=!0),G&&(G.selectedNav="chat"),r&&"object"==typeof r)window.postMessage({event_name:"maximize-widget"}),setTimeout(()=>{K(r,()=>{if(!qismoConfig.widgetCustomCSS)return!1;O("qcw-iframe",{event_name:"custom-css",css:qismoConfig.widgetCustomCSS})})},1e3);else{let e=JSON.parse(localStorage.getItem("qismo-widget"));n={display_name:e.display_name,unique_id:e.unique_id,extra_fields:e.extra_fields},D(!0)}else i(2,u=!0),G&&(G.selectedNav="login"),o&&"object"==typeof o?setTimeout(()=>{K(o,()=>{a&&O("qcw-login-form-iframe",{event_name:"custom-css",css:a}),L&&L.extra_fields&&O("qcw-login-form-iframe",{event_name:"extra-fields",extra_fields:JSON.stringify(L.extra_fields)})})},1e3):T();V(c)},()=>{if(i(5,y=!0),w=!1,_=!0,G&&(G.selectedNav="channel"),c&&"object"==typeof c){const e=qismoConfig.channel_widget;setTimeout(()=>{K(c,()=>{a&&O("qcw-channel-form-iframe",{event_name:"custom-css",css:a}),e&&O("qcw-channel-form-iframe",{event_name:"widget",widget:JSON.stringify(e)})})},1e3)}else H();localStorage.getItem("qismo-widget")?(i(3,f=!1),window.postMessage({event_name:"minimize-widget"}),V(r)):(i(2,u=!1),V(o),setTimeout(()=>{O("qcw-login-form-iframe",{event_name:"reset-form"})},500))},M,A,()=>{var e=qismoConfig.widgetCustomCSS?qismoConfig.widgetCustomCSS+h:h;O("qcw-iframe",{event_name:"custom-css",css:e})},j,L]}class se extends A{constructor(e){super(),F(this,e,oe,ne,s,{staging:6,widgetDesktopSizes:7,loginFormSizes:8,channelFormSizes:9,welcomeMessageSizes:10,grabberSizes:11,toggleLoginForm:12,toggleChannelForm:13,toggleWidget:0,openNextForm:14,openPreviousForm:15,login:16,closeWelcomeMessage:17,attachCustomCSS:18,appId:19,options:20},[-1,-1])}get staging(){return this.$$.ctx[6]}set staging(e){this.$set({staging:e}),q()}get widgetDesktopSizes(){return this.$$.ctx[7]}set widgetDesktopSizes(e){this.$set({widgetDesktopSizes:e}),q()}get loginFormSizes(){return this.$$.ctx[8]}set loginFormSizes(e){this.$set({loginFormSizes:e}),q()}get channelFormSizes(){return this.$$.ctx[9]}set channelFormSizes(e){this.$set({channelFormSizes:e}),q()}get welcomeMessageSizes(){return this.$$.ctx[10]}set welcomeMessageSizes(e){this.$set({welcomeMessageSizes:e}),q()}get grabberSizes(){return this.$$.ctx[11]}set grabberSizes(e){this.$set({grabberSizes:e}),q()}get toggleLoginForm(){return this.$$.ctx[12]}get toggleChannelForm(){return this.$$.ctx[13]}get toggleWidget(){return this.$$.ctx[0]}get openNextForm(){return this.$$.ctx[14]}get openPreviousForm(){return this.$$.ctx[15]}get login(){return this.$$.ctx[16]}get closeWelcomeMessage(){return this.$$.ctx[17]}get attachCustomCSS(){return this.$$.ctx[18]}get appId(){return this.$$.ctx[19]}set appId(e){this.$set({appId:e}),q()}get options(){return this.$$.ctx[20]}set options(e){this.$set({options:e}),q()}}return class{constructor(e,t={}){if(!e)throw new Error("Multichannel AppId is required");this.appId=e,this.staging=t.staging,this.options=t.options,this.baseUrl="https://multichannel.qiscus.com",this.mobileBreakPoint=500,this.onLoginSuccess=t.onLoginSuccess?t.onLoginSuccess:()=>{},this.onLoginError=t.onLoginError?t.onLoginError:()=>{},this.onRoomChanged=t.onRoomChanged?t.onRoomChanged:()=>{},this.onHeaderClicked=t.onHeaderClicked?t.onHeaderClicked:()=>{},this.onNewMessages=t.onNewMessages?t.onNewMessages:()=>{},this.onMinimize=t.onMinimize?t.onMinimize:()=>{},this.onMaximize=t.onMaximize?t.onMaximize:()=>{},t.options&&(t.options.qismoIframeUrl&&(this.baseUrl=t.options.qismoIframeUrl),t.options.mobileBreakPoint&&(this.mobileBreakPoint=t.options.mobileBreakPoint),t.options.widgetDesktopSizes&&(this.widgetDesktopSizes=t.options.widgetDesktopSizes),t.options.extra_fields&&(this.extra_fields=t.options.extra_fields)),this.appendCSS(t.options),this.render(),this.bindEvent(window,"message",e=>{e.data&&("login-success"==e.data.event_name&&this.onLoginSuccess&&(this.widget.attachCustomCSS(),this.onLoginSuccess(e.data.data)),"login-error"==e.data.event_name&&this.onLoginError&&this.onLoginError(e.data.data),"room-changed"==e.data.event_name&&this.onRoomChanged&&this.onRoomChanged(e.data.data),"new-messages"==e.data.event_name&&this.onNewMessages&&this.onNewMessages(e.data.data),"typing"==e.data.event_name&&this.onTyping&&this.onTyping(e.data.data),"header-clicked"==e.data.event_name&&this.onHeaderClicked&&this.onHeaderClicked(),"close-welcome-message"==e.data.event_name&&this.widget.closeWelcomeMessage(),"close-login-form"==e.data.event_name&&this.widget.toggleLoginForm(),"close-channel-form"==e.data.event_name&&this.widget.toggleChannelForm(),"open-next-form"==e.data.event_name&&this.widget.openNextForm(),"open-previous-form"==e.data.event_name&&this.widget.openPreviousForm(),"minimize-widget"==e.data.event_name&&this.onMinimize(),"maximize-widget"==e.data.event_name&&this.onMaximize(),"iframe-height-change"==e.data.event_name&&(document.getElementById("qcw-welcome-iframe").style.height=e.data.height+"px",this.widget.welcomeMessageSizes[1]=e.data.height),"toggle-widget"==e.data.event_name&&this.widget.toggleWidget(),"login"==e.data.event_name&&this.widget.login({display_name:e.data.display_name,unique_id:e.data.unique_id,extra_fields:e.data.extra_fields}))})}appendCSS(e){const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://qiscus-sdk.s3-ap-southeast-1.amazonaws.com/public/qismo/qismo-v4.css"),e.qismoIframeUrl&&t.setAttribute("href",e.qismoIframeUrl+"/css/qismo-v4.css??v=1.0.0"),document.head.appendChild(t)}bindEvent(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)}log(e,t){this.params.verbose&&console.log(`=== Qiscus ==> ${e}`,t||"")}chatTarget(e){return this.core.chatTarget(e)}sendMessage(e){document.getElementById("qcw-iframe").contentWindow.postMessage(e,"*")}logout(){localStorage.clear(),this.widget.isLogin=!1,this.widget.isLoginFormOpened=!1,this.widget.isWidgetOpened=!1,this.widget.isChannelFormOpened=!1}render(){document.getElementById("qismo-widget")||document.body.insertAdjacentHTML("beforeend",'<div id="qismo-widget"></div>');const e={appId:this.appId,staging:this.staging,options:this.options};this.widgetDesktopSizes&&(e.widgetDesktopSizes=this.widgetDesktopSizes),this.widget=new se({target:document.getElementById("qismo-widget"),props:e})}}}));
//# sourceMappingURL=qismo-v4.js.map
